Several large companies and business groups have protested the law, and opponents have predicted an economic backlash against the state.The state General Assembly called a special session to take up the bill, at a cost of $42,000, held no hearings, allowed little debate and passed the measure hours after it was introduced. Republicans supported it unanimously, while many Democrats walked out in protest. Mr. McCrory, who is running for re-election this year, quickly signed it.Republicans said the bill was prompted in part by a city ordinance passed in Charlotte last month allowing people to use public restrooms that correspond to the sexes they identify with, not necessarily their sex at birth.Some conservatives complained that the ordinance would endanger women and girls by allowing people who are anatomically male to use their restrooms, an argument that has been used elsewhere. Transgender advocates dismiss that as nonsense, saying that transgender people have been using their chosen bathrooms for years without incident.The new state law overturns any such local protections, saying that people may use only public locker rooms or restrooms that correspond to the sexes on their birth certificates. North Carolina law allows a transgender person to change the sex indicated on a birth certificate, but only after gender reassignment surgery, which most transgender people do not undergo.